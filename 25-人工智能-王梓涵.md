
#### 1.1 Color
```python
class Color:
    def __init__(self, name: str, hsv_lower: np.ndarray, hsv_upper: np.ndarray):
        self.name = name
        self.hsv_lower = hsv_lower
        self.hsv_upper = hsv_upper
    
    def get_mask(self, hsv_image: np.ndarray):
        return cv2.inRange(hsv_image, self.hsv_lower, self.hsv_upper)
```
**功能**：封装颜色在HSV空间的范围，提供掩膜生成方法

#### 1.2 掩膜合并函数
```python
def combine_masks(colors: list[Color], hsv_image: np.ndarray):
    combined_mask = np.zeros(hsv_image.shape[:2], dtype=np.uint8)
    for color in colors:
        single_mask = color.get_mask(hsv_image)
        combined_mask = cv2.bitwise_or(combined_mask, single_mask)
    return combined_mask
```
**功能**：将多个颜色的掩膜合并为一个综合掩膜

#### 1.3 核心处理流程
```python
def process_frame(self, frame: np.ndarray):
    # 1. 预处理：旋转 + 高斯模糊
    frame = cv2.rotate(frame, cv2.ROTATE_180)
    frame = cv2.GaussianBlur(frame, (5, 5), 1)
    
    # 2. ROI提取
    y_start, y_end, x_start, x_end = self.roi_coords
    roi = frame[y_start:y_end, x_start:x_end]
    hsv_roi = cv2.cvtColor(roi, cv2.COLOR_BGR2HSV)
    
    # 3. 颜色检测与计数
    red_mask = combine_masks([self.red1, self.red2], hsv_roi)
    red_count = cv2.countNonZero(red_mask)
    # ... 其他颜色检测
    
    # 4. 结果判断与显示
    color_counts = {'红色': red_count, '蓝色': blue_count, '紫色': purple_count}
    dominant_color = max(color_counts, key=color_counts.get)
```
